{"version":3,"file":"src_app_modules_auth_auth_module_ts.js","mappings":"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","sources":["./src/app/core/security/services/auth.service.ts","./src/app/modules/auth/auth-routing.module.ts","./src/app/modules/auth/auth.component.ts","./src/app/modules/auth/auth.component.html","./src/app/modules/auth/auth.module.ts","./src/app/modules/auth/login/login.component.ts","./src/app/modules/auth/login/login.component.html"],"sourcesContent":["import { map, of, tap } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LocalStorageService } from 'src/app/shared/services/utils/local-storage.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  URL_SERVICE = `${environment.apiBaseUrl}/auth`;\r\n  private _usuario : Partial<any> = null;\r\n\r\n  constructor(protected readonly _httpClient: HttpClient,\r\n              private readonly _localStorageService: LocalStorageService) { }\r\n\r\n  getUser() {\r\n    return this._usuario;\r\n  }\r\n\r\n  isAuthenticated() {\r\n    return (this._localStorageService.getItem('token')) ? of(true) : of(false);\r\n  }\r\n\r\n  login(data: Partial<any>) {\r\n    return this._httpClient.post<any>(`${this.URL_SERVICE}/login`, data)\r\n                .pipe(\r\n                  tap(res => {\r\n                    this._usuario = res.user;\r\n                    this._localStorageService.setItem('user', this._usuario);\r\n                    this._localStorageService.setItem('token', res.token);\r\n                  })\r\n                );\r\n  }\r\n\r\n  logout() {\r\n    this._localStorageService.clear();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { VexRoutes } from 'src/@vex/interfaces/vex-route.interface';\r\nimport { LoginComponent } from './login/login.component';\r\n\r\nconst routes: VexRoutes = [\r\n\t{\r\n\t\tpath: 'login',\r\n\t\tdata: { title: 'Login' },\r\n\t\tcomponent: LoginComponent\r\n\t},\r\n\t{\r\n\t\tpath: '',\r\n\t\tredirectTo: 'login',\r\n\t\tpathMatch: 'full',\r\n\t},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'vex-auth',\r\n  templateUrl: './auth.component.html'\r\n})\r\nexport class AuthComponent {\r\n\r\n}\r\n","<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AuthComponent } from './auth.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { AuthRoutingModule } from './auth-routing.module';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AuthComponent,\r\n    LoginComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    AuthRoutingModule,\r\n    ReactiveFormsModule,\r\n    RouterModule,\r\n    MatInputModule,\r\n    MatIconModule,\r\n    MatCheckboxModule,\r\n    MatSnackBarModule,\r\n  ]\r\n})\r\nexport class AuthModule { }\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { fadeInUp400ms } from 'src/@vex/animations/fade-in-up.animation';\r\nimport { AuthService } from 'src/app/core/security/services/auth.service';\r\nimport { AlertService } from 'src/app/shared/services/alert/alert.service';\r\n\r\n@Component({\r\n  selector: 'vex-login',\r\n  templateUrl: './login.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [\r\n    fadeInUp400ms\r\n  ]\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  form: UntypedFormGroup;\r\n\r\n  inputType = 'password';\r\n  visible = false;\r\n\r\n  private _snackBar = this._alertService.snackBar;\r\n\r\n  constructor(private router: Router,\r\n              private fb: UntypedFormBuilder,\r\n              private cd: ChangeDetectorRef,\r\n              private _authService: AuthService,\r\n              private readonly _alertService: AlertService,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.form = this.fb.group({\r\n      usuario: ['coperito', Validators.required],\r\n      contrasena: ['123456', Validators.required]\r\n    });\r\n  }\r\n\r\n  login() {\r\n    if(!this.form.valid) return;\r\n    const user: Partial<any> = {\r\n      usuario: this.form.get('usuario').value,\r\n      contrasena: this.form.get('contrasena').value\r\n    }\r\n    this._authService.login(user)\r\n      .subscribe(res => {\r\n        this._snackBar.info(`Bienvenido ${res.user.name}`, 5000);\r\n        this.router.navigate(['/']);\r\n    })\r\n  }\r\n\r\n  toggleVisibility() {\r\n    if (this.visible) {\r\n      this.inputType = 'password';\r\n      this.visible = false;\r\n      this.cd.markForCheck();\r\n    } else {\r\n      this.inputType = 'text';\r\n      this.visible = true;\r\n      this.cd.markForCheck();\r\n    }\r\n  }\r\n}\r\n","<div class=\"w-full h-full bg-pattern flex flex-col items-center justify-center\">\r\n    <div @fadeInUp class=\"card overflow-hidden w-full max-w-md\">\r\n        <div class=\"p-6 pb-0 flex flex-col items-center justify-center\">\r\n            <div class=\"fill-current text-center\">\r\n                <img class=\"w-64\" src=\"assets/img/demo/logo.png\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"text-center mt-4\">\r\n            <h2 class=\"title m-0\">Bienvenido</h2>\r\n            <h4 class=\"body-2 text-secondary m-0\">Por favor, ingrese sus credenciales.</h4>\r\n        </div>\r\n\r\n        <div [formGroup]=\"form\" class=\"p-6 flex flex-col gap-4\">\r\n            <div class=\"flex flex-col\">\r\n                <mat-form-field class=\"flex-1\">\r\n                    <mat-label>Correo electrónico</mat-label>\r\n                    <input formControlName=\"usuario\" matInput required>\r\n                    <mat-error *ngIf=\"form.get('usuario').hasError('required')\">El campo es requerido</mat-error>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"flex-1\">\r\n                    <mat-label>Contraseña</mat-label>\r\n                    <input [type]=\"inputType\" formControlName=\"contrasena\" matInput required>\r\n                    <button (click)=\"toggleVisibility()\" mat-icon-button matSuffix matTooltip=\"Toggle Visibility\"\r\n                        type=\"button\">\r\n                        <mat-icon *ngIf=\"visible\" svgIcon=\"mat:visibility\"></mat-icon>\r\n                        <mat-icon *ngIf=\"!visible\" svgIcon=\"mat:visibility_off\"></mat-icon>\r\n                    </button>\r\n                    <mat-hint>Haga clic en el ojo para alternar la visibilidad</mat-hint>\r\n                    <mat-error *ngIf=\"form.get('contrasena').hasError('required')\">El campo es requerido</mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n\r\n            <button (click)=\"login()\" color=\"primary\" mat-raised-button type=\"button\">\r\n                INGRESAR\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>"],"names":["of","tap","environment","AuthService","constructor","_httpClient","_localStorageService","apiBaseUrl","getUser","_usuario","isAuthenticated","getItem","login","data","post","URL_SERVICE","pipe","res","user","setItem","token","logout","clear","factory","providedIn","RouterModule","LoginComponent","routes","path","title","component","redirectTo","pathMatch","AuthRoutingModule","forChild","imports","exports","AuthComponent","selectors","decls","vars","template","i0","CommonModule","MatInputModule","MatIconModule","ReactiveFormsModule","MatCheckboxModule","MatSnackBarModule","AuthModule","declarations","Validators","fadeInUp400ms","router","fb","cd","_authService","_alertService","snackBar","ngOnInit","form","group","usuario","required","contrasena","valid","get","value","subscribe","_snackBar","info","name","navigate","toggleVisibility","visible","inputType","markForCheck","consts","ctx","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}